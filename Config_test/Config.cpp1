#include "Config.h"

void Config::begin(fs::FS &fs) {
    File file = fs.open("config.cfg");
    if(!file){
        status = "Failed to open file for reading";
        return;
    }

    while(file.available()){
        String row = file.read();
        int index = row.indexOf("=");
        Serial.printf("row: '%s'\n", row);
        Serial.printf("index: '%d'\n", index);
        if (index > 0) {
          String key = row.substring(0, index);
          String value = row.substring(index);
          Serial.printf("key: '%s'\n", key);
          Serial.printf("value: '%s'\n", value);
        } else {
          Serial.printf("rejectd: '%s'\n", row);
        }
    }
    file.close();
}

String Config::getSSID() {
  return SSID;
}
String Config::getPassword() {
  return password;  
}

String Config::getStatus() {
  return status;
}
